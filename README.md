# Waypoint Marker

## Overview

The **Waypoint Marker** is a ROS package designed to process global paths generated by a global planner, discretize these paths into valid segments, and visualize the waypoints in RViz. It checks the segments against a local costmap to ensure the path is navigable.

## Dependencies

- ROS Noetic
- `nav_msgs`
- `geometry_msgs`
- `visualization_msgs`
- `costmap_2d`
- `numpy`

## Installation & Use

1. **Clone the Repository**:
   ```bash
   cd ~/catkin_ws/src
   git clone https://github.com/Praveen1098/waypoint_marker.git
2. **Build the Package**:
   ```bash
   cd ~/catkin_ws
   catkin_make
3. **Source the Workspace**:
   ```bash
   source ~/catkin_ws/devel/setup.bash
4. **Run Package with Motion Planning (Example: ros_motion_planning)**:
   ```bash
   ./main.sh
5. **Run the Waypoint Marker Node**:
   ```bash
   rosrun waypoint_viz path_segmenter.py

## Features

### 1. Subscribe to Global Plan
- The node listens to the `/move_base/PathPlanner/plan` topic to receive incoming global paths.
- This allows the node to obtain the intended trajectory for the robot based on global planning.

### 2. Costmap Subscription
- The node subscribes to the local costmap at the `/move_base/local_costmap/costmap` topic.
- The costmap provides information about the environment, indicating which areas are free, occupied, or unknown.

### 3. Path Processing
- The node processes the received global path by:
  - Discretizing the path into smaller segments for easier navigation.
  - Validating each segment against the local costmap to ensure the path is traversable.
- Only segments that are free of obstacles are retained for further processing.

### 4. Waypoint Visualization
- The waypoints of the valid segments are published as visualization markers to the `/waypoint_markers` topic.
- These markers can be visualized in RViz, helping users see the valid waypoints along the planned path.
- In RViz, add a new display for `MarkerArray` and set the topic to `/waypoint_markers`.

## Troubleshooting
1. IndexError: If you encounter an IndexError: list index out of range, ensure that the global path is being published correctly and contains at least two poses.
2. Markers Not Showing: If waypoint markers are not visible in RViz, ensure that you have set the correct topic for the MarkerArray display.

   
